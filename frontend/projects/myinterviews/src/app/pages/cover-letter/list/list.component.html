<nz-space nzDirection="vertical">

  <nz-space-item>
    <nz-page-header [nzGhost]="false">
      <nz-page-header-title>Cover Letter</nz-page-header-title>
      <nz-page-header-extra>
        <a nz-button routerLink="new" nzType="primary">New</a>
      </nz-page-header-extra>
    </nz-page-header>
  </nz-space-item>

  <nz-space-item>
    <nz-card>
      <ng-container *ngIf="(coverLetter$ | async) as coverLetter; else emptyResult">
        <nz-table 
          [nzData]="coverLetter.data"
          [nzFrontPagination]="false"
          [nzLoading]="loading"
          [nzTotal]="coverLetter.totalCount"
          [nzPageSize]="coverLetter.pageSize"
          [nzPageIndex]="coverLetter.currentPage"
          (nzQueryParams)="onQueryParamsChange($event)"
        >
          <thead>
            <tr>
              <th>Title</th>
              <th width="15%">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of coverLetter.data">
              <td>
                <a [routerLink]="[data.id]">{{ data.title }}</a>
              </td>
              <td>
                <a [routerLink]="[data.id, 'edit']">Edit</a>
                <nz-divider nzType="vertical"></nz-divider>
                <a nz-dropdown class="operation" nzTrigger="click" [nzDropdownMenu]="menu"> More <i nz-icon nzType="down"></i> </a>
                <nz-dropdown-menu #menu="nzDropdownMenu">
                  <ul nz-menu>
                    <li nz-menu-item>
                      <a [routerLink]="[data.id, 'copy']">Copy</a>
                    </li>
                    <li nz-menu-item>
                      <a [routerLink]="[data.id, 'send-email']">Send via Email</a>
                    </li>
                    <li nz-menu-divider></li>
                    <li nz-menu-item>
                      <a
                        nz-popconfirm
                        nzPopconfirmTitle="Are you sure delete this cover letter?"
                        nzPopconfirmPlacement="right"
                        (nzOnConfirm)="onDeleteConfirm(data)"
                      >Delete</a>
                    </li>
                  </ul>
                </nz-dropdown-menu>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </ng-container>
      
      <ng-template #emptyResult>
        <nz-empty></nz-empty>
      </ng-template>
    </nz-card>
  </nz-space-item>

</nz-space>